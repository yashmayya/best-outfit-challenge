<!DOCTYPE html>
<html lang="en">
<head>
  <title>Myntra-Jabong Hackathon</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
  <style>
  .carousel-inner > .item > img,
  .carousel-inner > .item > a > img {
    width: 70%;
    margin: auto;
  }
  </style>
</head>


<body>
    
<nav class="navbar navbar-inverse">
    <div class="container-fluid">
        <div class="navbar-header">
            <a class="navbar-brand" href="{{ url_for('index') }}">Myntra-Jabong</a>
        </div>
    
        <ul class="nav navbar-nav">
            <li><a href="{{ url_for('index') }}">Home</a></li>
            <li class="active"><a href=#>Challenge</a></li>
        </ul>
    
        <ul class="nav navbar-nav navbar-right">
            {% if current_user.is_authenticated %}
                {% if current_user.username == 'admin' %}
                    <li><a href="{{ url_for('admin') }}">Admin</a></li>
                {% endif %}
    
                <li><a href="#">Hello, {{ current_user.username }}!</a></li>
                <li><a href="{{ url_for('logout') }}">Logout</a></li>
    
            {% else %}
                <li><a href="{{ url_for('login') }}">Login</a></li>
                <li><a href="{{ url_for('signup') }}">Sign Up</a></li>
            {% endif %}
        </ul>
    </div>
</nav>

{% if current_user.is_authenticated %}
    <div class="container">
      <br>
      <div id="myCarousel" class="carousel slide" data-ride="carousel" data-interval="false">
        <!-- Indicators -->
        <ol class="carousel-indicators">
          <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
          <li data-target="#myCarousel" data-slide-to="1"></li>
          <li data-target="#myCarousel" data-slide-to="2"></li>
          <li data-target="#myCarousel" data-slide-to="3"></li>
        </ol>
    
        <!-- Wrapper for slides -->
        <div class="carousel-inner" role="listbox">
    
          <div class="item active">
            <img src="{{ url_for('static', filename='dress1.jpg') }}" alt="0" width="460" height="345">
            <div class="carousel-caption">
              <h3>Chania</h3>
              <p>The atmosphere in Chania has a touch of Florence and Venice.</p>
            </div>
          </div>
    
          <div class="item">
            <img src="ny.jpg" alt="1" width="460" height="345">
            <div class="carousel-caption">
              <h3>Chania</h3>
              <p>The atmosphere in Chania has a touch of Florence and Venice.</p>
            </div>
          </div>
        
          <div class="item">
            <img src="la.jpg" alt="2" width="460" height="345">
            <div class="carousel-caption">
              <h3>Flowers</h3>
              <p>Beautiful flowers in Kolymbari, Crete.</p>
            </div>
          </div>
    
          <div class="item">
            <img src="ny.jpg" alt="3" width="460" height="345">
            <div class="carousel-caption">
              <h3>Flowers</h3>
              <p>Beautiful flowers in Kolymbari, Crete.</p>
            </div>
          </div>
      
        </div>
    
        <!-- Left and right controls -->
        <a class="left carousel-control" href="#myCarousel" role="button" data-slide="prev">
          <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control" href="#myCarousel" role="button" data-slide="next">
          <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
    </div>
    
    <div class="container">
      <br>
      <div id="myCarousel2" class="carousel slide" data-ride="carousel" data-interval="false">
        <!-- Indicators -->
        <ol class="carousel-indicators">
          <li data-target="#myCarousel2" data-slide-to="0" class="active"></li>
          <li data-target="#myCarousel2" data-slide-to="1"></li>
          <li data-target="#myCarousel2" data-slide-to="2"></li>
          <li data-target="#myCarousel2" data-slide-to="3"></li>
        </ol>
    
        <!-- Wrapper for slides -->
        <div class="carousel-inner" role="listbox">
    
          <div class="item active">
            <img src="ny.jpg" alt="0" width="460" height="345">
            <div class="carousel-caption">
              <h3>Chania</h3>
              <p>The atmosphere in Chania has a touch of Florence and Venice.</p>
            </div>
          </div>
    
          <div class="item">
            <img src="ny.jpg" alt="1" width="460" height="345">
            <div class="carousel-caption">
              <h3>Chania</h3>
              <p>The atmosphere in Chania has a touch of Florence and Venice.</p>
            </div>
          </div>
        
          <div class="item">
            <img src="la.jpg" alt="2" width="460" height="345">
            <div class="carousel-caption">
              <h3>Flowers</h3>
              <p>Beautiful flowers in Kolymbari, Crete.</p>
            </div>
          </div>
    
          <div class="item">
            <img src="ny.jpg" alt="3" width="460" height="345">
            <div class="carousel-caption">
              <h3>Flowers</h3>
              <p>Beautiful flowers in Kolymbari, Crete.</p>
            </div>
          </div>
      
        </div>
    
        <!-- Left and right controls -->
        <a class="left carousel-control" href="#myCarousel2" role="button" data-slide="prev">
          <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control" href="#myCarousel2" role="button" data-slide="next">
          <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
    </div>
    
    <div class="container">
      <br>
      <div id="myCarousel3" class="carousel slide" data-ride="carousel" data-interval="false">
        <!-- Indicators -->
        <ol class="carousel-indicators">
          <li data-target="#myCarousel3" data-slide-to="0" class="active"></li>
          <li data-target="#myCarousel3" data-slide-to="1"></li>
          <li data-target="#myCarousel3" data-slide-to="2"></li>
          <li data-target="#myCarousel3" data-slide-to="3"></li>
        </ol>
    
        <!-- Wrapper for slides -->
        <div class="carousel-inner" role="listbox">
    
          <div class="item active">
            <img src="chicago.jpg" alt="0" width="460" height="345">
            <div class="carousel-caption">
              <h3>Chania</h3>
              <p>The atmosphere in Chania has a touch of Florence and Venice.</p>
            </div>
          </div>
    
          <div class="item">
            <img src="ny.jpg" alt="1" width="460" height="345">
            <div class="carousel-caption">
              <h3>Chania</h3>
              <p>The atmosphere in Chania has a touch of Florence and Venice.</p>
            </div>
          </div>
        
          <div class="item">
            <img src="la.jpg" alt="2" width="460" height="345">
            <div class="carousel-caption">
              <h3>Flowers</h3>
              <p>Beautiful flowers in Kolymbari, Crete.</p>
            </div>
          </div>
    
          <div class="item">
            <img src="ny.jpg" alt="3" width="460" height="345">
            <div class="carousel-caption">
              <h3>Flowers</h3>
              <p>Beautiful flowers in Kolymbari, Crete.</p>
            </div>
          </div>
      
        </div>
    
        <!-- Left and right controls -->
        <a class="left carousel-control" href="#myCarousel3" role="button" data-slide="prev">
          <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control" href="#myCarousel3" role="button" data-slide="next" id="right">
          <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>
      </div>
    </div>
    
    <br><br>
    <div style="text-align:center;">
      <button class="btn btn-success" id="submit"><big>Submit</big></button>
    </div>
    
    
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha384-aJ21OjlMXNL5UyIl/XNwTMqvzeRMZH2w8c5cRVpzpU8Y5bApTppSuUkhZXN0VxHd" crossorigin="anonymous"></script>
    
    <script>
        var top_choice = 0;
        var bottom_choice = 0;
        var footwear_choice = 0;
        
        $("#myCarousel").on('slide.bs.carousel', function(e) {
            var active = $(e.target).find('.carousel-inner > .item.active');
            var from = active.index();
            var next = $(e.relatedTarget);
            var to = next.index();
            console.log(from + ' => ' + to)
            top_choice = to;
        });
        
        $("#myCarousel2").on('slide.bs.carousel', function(e) {
            var active = $(e.target).find('.carousel-inner > .item.active');
            var from = active.index();
            var next = $(e.relatedTarget);
            var to = next.index();
            console.log(from + ' => ' + to)
            bottom_choice = to;
        });
        
        
        $("#myCarousel3").on('slide.bs.carousel', function(e) {
            var active = $(e.target).find('.carousel-inner > .item.active');
            var from = active.index();
            var next = $(e.relatedTarget);
            var to = next.index();
            console.log(from + ' => ' + to)
            footwear_choice = to;
        });
        
        $("#submit").click(function(){
            $.ajax({
                type: 'POST',
                url: "{{ url_for('challengenew') }}",
                data: {'top_choice': top_choice, 'bottom_choice': bottom_choice, 'footwear_choice': footwear_choice},
                success: function(response) {
                  if (response.redirect) {
                    window.location.href = response.redirect;
                  }
                }
            });
        });
    
        
    </script>
{% endif %}

</body>
</html>
